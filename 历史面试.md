### 美团(2023.9.2 直播)

#### java 基础

1. 双亲委派机制
2. synchronize 与 reentrylock 异同
3. jvm 内存结构

#### 算法

* 判断链表有环（下同）

#### mysql

慢查询优化：建索引、索引覆盖、索引下推（下同）

#### 项目（一致性）

### 美团（2023.9.12 打车）

#### 基础 

springboot IOC、注解原理

### 蚂蚁网商银行（2023.9.12）

故意刁难，问没有做过的东西；

1. 先设计分库分表，再设计事务；例如100亿数据。
2. 设计高并发下考虑哪些因素，例如：幂等场景及解决方案，eg. 连续点击；
3. redis 与 mysql 一致性，从写和读两方面阐述；
4. 缓存穿透、缓存雪崩。

### 小米广告推送（2023.9.14）

#### 算法（二叉树平均高度，回溯+递归）

从根到叶节点路径，计算所有这些路径上所有节点个数/所有路径数。例如：

```
*     1
*    / \
*   2   3
*  / \    
* 4   5    
paths：
1-2-4
1-2-5
1-3
(3+3+2)/3 = 8/3
```

思路：回溯法；

```java
public class AvgHeightOfBT {
    int sum = 0;
    int pathCount = 0;
    int count = 0;

    public int avgHeightOfBT(TreeNode root) {
        cal(root);
        return sum / pathCount;
    }
    public void cal (TreeNode cur) {
        count++;
        if (cur.left == null && cur.right == null) {
            pathCount++;
            sum += count;
            return;
        }
        cal(cur.left);
        count--;
        cal(cur.right);
        count--;
    }
}
```

